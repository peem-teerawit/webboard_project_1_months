<main class="login-page">
  <section class="login-container">
    <h1 class="app-title">Login</h1>
    <form class="login-form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="username" class="form-label">Username</label>
        <input
          type="text"
          id="username"
          class="form-input"
          placeholder="กรุณากรอกชื่อผู้ใช้ของคุณ"
          aria-label="Enter your username"
          [(ngModel)]="username"
          name="username"
          required
        />
      </div>
      <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <div class="password-input-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            class="form-input"
            placeholder="กรุณากรอกรหัสผ่านของคุณ"
            aria-label="Enter your password"
            [(ngModel)]="password"
            name="password"
            required
          />
          <img
            [src]="showPassword ? 'http://b.io/ext_5-' : 'https://cdn.builder.io/api/v1/image/assets/TEMP/e06111e97cf628e02a9b6faa8a266e9f00d5e7047a620dd4199f0d14b9b47f06?placeholderIfAbsent=true&apiKey=83b04d3998304303a4379a0eca926c98'"
            [alt]="showPassword ? 'Hide password' : 'Show password'"
            class="password-toggle"
            tabindex="0"
            role="button"
            (click)="togglePasswordVisibility()"
            (keydown.enter)="togglePasswordVisibility()"
          />
        </div>
      </div>
      <div class="form-actions">
        <a class="forgot-password" href="#">ลืมรหัสผ่าน?</a>
      </div>
      
      <button type="submit" class="submit-button" [disabled]="!username || !password || isLoading">
        <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/5d1855470898432afe5f574345e5b33b6cd82eaa668072f869a03f4fef8881b4?placeholderIfAbsent=true&apiKey=83b04d3998304303a4379a0eca926c98" alt="Submit login" class="submit-icon" />
      </button>

      <div *ngIf="isLoading" class="loading-spinner">
        <div class="spinner"></div>
      </div>

      <p class="error-message" *ngIf="errorMessage">{{ errorMessage }}</p>
    </form>
    <a (click)="navigateToRegister()" class="register-link">ลงทะเบียน</a>
  </section>
</main>
